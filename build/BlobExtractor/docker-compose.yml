version: "3"
services:
  blob_extractor:
    build: .
    privileged: true
    network_mode: "host" # Use host network mode for ADB
    volumes:
      - ./output:/home/blob-extractor/output
      - /dev/bus/usb:/dev/bus/usb
      - $HOME/.android:/root/.android # Share ADB keys
    environment:
      - ANDROID_HOME=/opt/android
      - ADB_VENDOR_KEYS=$HOME/.android
